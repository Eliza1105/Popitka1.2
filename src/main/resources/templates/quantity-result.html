<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quantity Result</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{/css/quantity.css}" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
</head>
<body>
<div class="container-fluid">
    <div class="row flex-nowrap">
        <div th:replace="index::sidebar"></div>

        <div th:fragment="calculator" class="container mt-5 col py-3">
            <h1>Калькулятор продукта.</h1>
            <p>Выберите блюдо, а затем введите целое число, означающее, сколько человек желает отведать этого блюда. </p>
            <div>
                <select class="form-control" id="dropDownList" onchange="updateUnit()">
                    <option value="0" data-unit="0">Выберете блюдо</option>
                    <option th:each="food : ${foods}" th:value="${food.name}" th:text="${food.name}" th:data-unit="${food.unit}"></option>
                </select>
            </div>
            <div>
                <p class="amountcom">Введите число, означающее, сколько людей хотят отведать это блюдо.</p>
                <br>
                <label>
                    <input class="amount" id="amountInput" type="number" min="1"/>
                </label>
            </div>
            <div>
                <button class="button" onclick="calculateResult()">
                    Нажми на кнопку - <br>
                    получишь результат.
                </button>
            </div>
            <div id="result" class="res"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function updateUnit() {
        const select = document.getElementById('dropDownList');
        const selectedOption = select.options[select.selectedIndex];
        const unit = selectedOption.getAttribute('data-unit');
        console.log('Selected unit:', unit); // Для отладки
    }

    function calculateResult() {
        const select = document.getElementById('dropDownList');
        const selectedOption = select.options[select.selectedIndex];
        const unit = parseFloat(selectedOption.getAttribute('data-unit'));
        const amount = parseInt(document.getElementById('amountInput').value);

        if (amount > 0 && unit > 0) {
            const result = amount * unit;
            document.getElementById('result').innerText = `Общее количество: ${result}`;
        } else {
            document.getElementById('result').innerText = 'Пожалуйста, выберите блюдо и введите количество.';
        }
    }
</script>
</body>
</html>

















<!--<!DOCTYPE html>
<html lang="en"> <html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quantity Result</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    -<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
    -<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link th:href="@{/css/quantity.css}" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
</head>
<body>
<div class="container-fluid">
    <div class="row flex-nowrap">
<div th:replace="index::sidebar"></div>

    <div th:fragment="calculator" class="container mt-5 col py-3">
<h1>Калькулятор продукта.</h1>
<p>Выберите блюдо, а затем введите целое число, означающее, сколько человек желает отведать этого блюда. </p>
<div><select class="form-control" id="dropDownList">
    <option value="0">Выберете блюдо</option>
    <option th:each="food : ${foods}" th:value="${food.name}" th:text="${food.name}"></option>
</select>
</div>
        <div >
            <p class="amountcom">Введите число,означающее, сколько людей хотят отведать это блюдо.</p>
            <br>
            <label>
                <input class="amount" />
            </label>
        </div>
        <div>
<button class="button">
    Нажми на кнопку - <br>
    получишь результат.
  </button>
        </div>
    </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>-->